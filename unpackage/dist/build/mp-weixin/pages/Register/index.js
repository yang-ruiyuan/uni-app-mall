(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Register/index"],{"0b13":function(e,t,n){"use strict";(function(e){n("ad72"),n("921b");r(n("66fd"));var t=r(n("cb27"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"369a":function(e,t,n){},"3b38":function(e,t,n){"use strict";var r=n("369a"),o=n.n(r);o.a},8350:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},"887f":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("3b40"),o=n("6f4a"),a=i(n("2cce")),c=n("2f62");function i(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"register",data:function(){return{time:0,loading:!1,getCode:!1,code:"",id:{referrer:""},params:{phone:"",verifycode:"",name:"",password:"",repwd:"",sex:1}}},computed:s({},(0,c.mapState)(["isParentRegister"])),methods:{isPhone:function(t,n){var r=/^[1][3,4,5,7,8][0-9]{9}$/;r.test(this.params.phone)?n(t):e.showToast({title:"请输入正确的手机号",icon:"none"})},changeSex:function(e){console.log(e),this.params.sex=+e.detail.value},GetCodes:function(){var t=this;this.isPhone({phone:this.params.phone,action:1},function(n){(0,o.sendPhoneMsg)(n).then(function(n){if(!n.data.code){t.getCode=!0,t.time=60;var r=setInterval(function(){t.time--,t.time||(clearInterval(r),t.time=0,t.getCode=!1)},1e3);t.code=n.data.mcode,e.showToast({icon:"none",title:n.data.msg})}})})},ReGister:function(t){var n=this,o=[{name:"phone",checkType:"phoneno",errorMsg:"请输入正确的手机号"},{name:"verifycode",checkType:"same",checkRule:this.params.verifycode,errorMsg:"请输入验证码"},{name:"userName",checkType:"notnull",errorMsg:"请输入用户名"},{name:"gender",checkType:"in",checkRule:"0,1",errorMsg:"请选择性别"},{name:"password",checkType:"string",checkRule:"6,6",errorMsg:"密码最小6位"},{name:"repwd",checkType:"same",checkRule:this.params.password,errorMsg:"确认密码不正确"}],c=[{name:"referrer",checkType:"notnull",errorMsg:"请输入推荐人ID"}],i=[];i=this.isParentRegister?c.concat(o):o;var u=t.detail.value,l=a.default.check(u,i);l?(this.loading=!0,(0,r.Register)(s({},this.params,this.id)).then(function(t){n.loading=!1,"ok"===t.data.code?e.showModal({title:"",content:t.data.msg,showCancel:!1,success:function(t){t.confirm&&e.redirectTo({url:"/pages/login/index"})}}):e.showToast({title:t.data.msg,icon:"none"})})):e.showToast({title:a.default.error,icon:"none"})}}};t.default=l}).call(this,n("543d")["default"])},cb27:function(e,t,n){"use strict";n.r(t);var r=n("8350"),o=n("efdd");for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);n("3b38");var c=n("2877"),i=Object(c["a"])(o["default"],r["a"],r["b"],!1,null,null,null);t["default"]=i.exports},efdd:function(e,t,n){"use strict";n.r(t);var r=n("887f"),o=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);t["default"]=o.a}},[["0b13","common/runtime","common/vendor"]]]);