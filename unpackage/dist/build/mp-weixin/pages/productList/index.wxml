<view class="main"><uni-drawer class="draw" vue-id="1" visible="{{rightDrawerVisible}}" mode="right" data-event-opts="{{[['^close',[['ToggleDrawer']]]]}}" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><view><view class="uni-card"><view class="uni-list"><block wx:for="{{lists}}" wx:for-item="list" wx:for-index="index" wx:key="index"><block><view class="uni-list-cell uni-collapse"><view data-event-opts="{{[['tap',[['trigerCollapse',[index]]]]]}}" class="{{['uni-list-cell-navigate uni-navigate-bottom',list.show?'uni-active':'']}}" bindtap="__e">{{''+list.title+''}}</view><view class="{{['uni-collapse-content',list.show?'uni-active':'']}}"><block wx:if="{{list.type==='list'}}"><view><view class="uni-list"><block wx:for="{{list.list}}" wx:for-item="item" wx:for-index="idx" wx:key="idx"><view class="{{['uni-list-cell',[(currentCate===idx)?'act':'']]}}" hover-class="none" data-event-opts="{{[['tap',[['selectCate',['$0',idx],[[['lists','',index],['list','',idx]]]]]]]}}" bindtap="__e"><view class="uni-list-cell-navigate uni-navigate-right">{{item.name}}</view></view></block></view></view></block><block wx:if="{{list.type==='price'}}"><view><view class="uni-list"><block wx:for="{{list.list}}" wx:for-item="item" wx:for-index="idx" wx:key="idx"><view class="{{['uni-list-cell',(currentPrice===idx)?'act':'']}}" hover-class="none" data-event-opts="{{[['tap',[['selectPrice',['$0',idx],[[['lists','',index],['list','',idx]]]]]]]}}" bindtap="__e"><view class="uni-list-cell-navigate uni-navigate-right">{{"¥"+item.min+" - ¥"+item.max}}</view></view></block></view><view class="divPrice"><view><input type="text" data-event-opts="{{[['input',[['__set_model',['$0','min','$event',[]],['params']]]]]}}" value="{{params.min}}" bindinput="__e"/></view><view>——</view><view><input type="text" data-event-opts="{{[['input',[['__set_model',['$0','max','$event',[]],['params']]]]]}}" value="{{params.max}}" bindinput="__e"/></view></view></view></block></view></view></block></block></view></view><view class="btn"><button type="warn" size="mini" data-event-opts="{{[['tap',[['serachCate',['$event']]]]]}}" bindtap="__e">确认</button></view></view></uni-drawer><view class="searchList"><view class="top"><view class="search"><input class="key" type="text" data-event-opts="{{[['input',[['__set_model',['$0','search','$event',[]],['params']]]]]}}" value="{{params.search}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['searchData',['$event']]]]]}}" class="{{['btn',[(params.search)?'act':'']]}}" bindtap="__e"><text>搜索</text></view></view><view class="tabs"><block wx:for="{{tabs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changeTab',['$0'],[[['tabs','',index]]]]]]]}}" class="{{[(currentTab===index+1)?'act':'']}}" bindtap="__e"><text class="{{[(index===3&&params.order===3)?'up':'',(index===3&&params.order===4)?'down':'']}}">{{item.name}}</text></view></block></view></view><view class="list"><block wx:if="{{productList.length}}"><block><scroll-view class="product" scroll-y data-event-opts="{{[['scrolltolower',[['loadMove',['$event']]]]]}}" bindscrolltolower="__e"><view class="uni-product-list"><block wx:for="{{productList}}" wx:for-item="product" wx:for-index="index" wx:key="index"><view class="uni-product"><navigator class="image-view" hover-class="none" url="{{'/pages/product_detail/product_detail?pid='+product.id}}"><block wx:if="{{renderImage}}"><image class="uni-product-image" src="{{product.default_imgurl}}"></image></block></navigator><view class="uni-product-title">{{product.name}}</view><view class="uni-product-price"><text class="uni-product-price-favour">{{"￥"+product.orgin_price}}</text><text class="uni-product-price-original">{{"￥"+product.now_price}}</text><view class="comment"><text>{{product.tol_level+"条评价"}}</text><text>{{product.ratio+"好评"}}</text></view></view></view></block></view></scroll-view></block></block><block wx:if="{{noData&&!productList.length}}"><empty-data vue-id="2" bind:__l="__l" vue-slots="{{['default']}}">没有发现相关产品</empty-data></block></view></view></view>